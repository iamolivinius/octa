<h2 class="ui dividing header">
  <i class="browser icon"></i>
  <div class="content">
    Extractable Fields
    <div class="sub header">
      Set each container's extractable fields.
    </div>
  </div>
</h2>

{{#each con in containers}}
<div class="ui segment">
  <div class="row">
    <div class="column">
      <h3 class="ui header">
        Container: <strong>{{con.name}}</strong>
      </h3>
      <br>
    </div>
  </div>



  <div class="row">
    <div class="column">
      <div class="ui red ribbon label">Trigger</div>
      <p>
        <label id="ctn-KEY-trigger">
          {{#if con.trigger}}
            {{con.trigger}}
          {{else}}
            Not set
          {{/if}}
        </label>
        <div class="ui tiny button btn-trigger-select" {{action "onSelectTrigger" con.cid}} >
          Select Trigger
        </div>
      </p>
    </div>
  </div>

  <div class="row">
    <div class="column">
      <div class="ui teal ribbon label">Fields</div>
      <table class="ui table segment fields-table ctn-KEY">
        <thead>
          <tr>
            <th>Name</th>
            <th>Pattern</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>

        {{#each field in con.fields}}
          <tr>
            <td class="field-name">{{input type="text" value=field.name}}</td>
            <td>{{field.field}}</td>
            <td>
              <div class="ui red icon button btn-remove-field" {{action "onRemoveField" field }}>
                <i class="remove icon"></i> 
              </div>
            </td>
          </tr>
        {{/each}}


        </tbody>
        <tfoot>
          <tr>
            <th colspan="3">
              <div class="ui blue labeled icon button btn-add-field" {{action "onSelectField" con.cid}}>
                <i class="add icon"></i> Add Field
              </div>
              <div class="ui labeled icon button btn-test-container">
                <i class="lab icon"></i> Test Container
              </div>
            </th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

</div>
{{else}}
<div class="ui warning message">
  <div class="header">
    No Containers Available
  </div>
  <p>Please add some containers before creating fields.</p>
</div>
{{/each}}

<div class="ui left labeled icon button" {{action "onBack"}}>
  <i class="left arrow icon"></i>
  Back
</div>

<div class="ui right labeled icon submit primary button" {{action "onNext"}}>
  <i class="right arrow icon"></i>
  Next
</div>
