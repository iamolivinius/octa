<h2 class="ui dividing header">
  <i class="browser icon"></i>
  <div class="content">
    Extractable Fields
    <div class="sub header">
      Set each container's extractable fields.
    </div>
  </div>
</h2>

{{#each con in containers}}
<div class="ui segment">
  <h3 class="ui dividing header">
    Container: <strong>{{con.name}}</strong>
  </h3>

  <div class="ui vertical segment">
    <div class="ui red ribbon label">Trigger</div>
    <p>
      {{#if con.trigger}}
      <label>Triggerpattern: {{con.trigger}}</label>
      <div class="ui red tiny button" {{action "onSelectTrigger" con.cid}} >
        Remove and Select New Trigger
      </div>
      {{else}}
      <div class="ui tiny button" {{action "onSelectTrigger" con.cid}} >
        Select Trigger
      </div>
      {{/if}}
    </p>
  </div>

  <div class="ui vertical segment">
    <div class="ui teal ribbon label">Fields</div>
    <table class="ui table segment fields-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Pattern</th>
          <th>Remove</th>
        </tr>
      </thead>
      <tbody>

      {{#each field in con.fields}}
        <tr>
          <td>
            <div class="ui input">
              {{input type="text" value=field.name}}
            </div>
          </td>
          <td>
            <div class="ui form">
              <div class="field">
                {{{textarea value=field.field}}}
              </div>
            </div>
          </td>
          <td>
            <div class="ui red icon button" {{action "onRemoveField" field }}>
              <i class="trash icon"></i>
            </div>
          </td>
        </tr>
      {{/each}}


      </tbody>
      <tfoot>
        <tr>
          <th colspan="3">
            <div class="ui blue labeled icon button" {{action "onSelectField" con.cid}}>
              <i class="add icon"></i> Add Field
            </div>
            <div class="ui labeled icon button">
              <i class="lab icon"></i> Test Container
            </div>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>

</div>
{{else}}
<div class="ui warning message">
  <div class="header">
    No Containers Available
  </div>
  <p>Please add some containers before creating fields.</p>
</div>
{{/each}}

<div class="ui left labeled icon button" {{action "onBack"}}>
  <i class="left arrow icon"></i>
  Back
</div>

<div class="ui right labeled icon submit primary button" {{action "onNext"}}>
  <i class="right arrow icon"></i>
  Next
</div>
